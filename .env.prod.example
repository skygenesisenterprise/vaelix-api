# ============================================
# Vaelix Bank API - Production Environment
# ============================================
# Production configuration with secure defaults
# Copy this file to .env.prod and update with your values
# ============================================

# ============================================
# Server Configuration
# ============================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ============================================
# Database Configuration
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=vaelix_prod
DB_USER=vaelix_prod_user
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_IN_PRODUCTION
DB_SSL=true
DB_MAX_CONNECTIONS=20

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_STRONG_REDIS_PASSWORD
REDIS_DB=0
REDIS_TLS=true

# ============================================
# Security Configuration
# ============================================
# Generate a new 64-character hex string for production
ENCRYPTION_KEY=CHANGE_THIS_64_CHARACTER_HEX_ENCRYPTION_KEY_IN_PRODUCTION

# Generate strong JWT secrets for production
JWT_SECRET=CHANGE_THIS_STRONG_JWT_SECRET_IN_PRODUCTION_MIN_32_CHARS
JWT_REFRESH_SECRET=CHANGE_THIS_STRONG_REFRESH_SECRET_IN_PRODUCTION_MIN_32_CHARS
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================
# Weavr API Configuration
# ============================================
WEAVR_API_BASE_URL=https://api.weavr.io
WEAVR_API_KEY=CHANGE_THIS_TO_YOUR_PRODUCTION_WEAVR_API_KEY

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@domain.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@vaelixbank.com

# ============================================
# SSL/TLS Configuration
# ============================================
SSL_CERT_PATH=/etc/ssl/certs/vaelixbank.crt
SSL_KEY_PATH=/etc/ssl/private/vaelixbank.key
SSL_CA_PATH=/etc/ssl/certs/ca.crt

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# ============================================
# External Services
# ============================================
# Traefik Configuration
TRAEFIK_EMAIL=admin@vaelixbank.com
TRAEFIK_DASHBOARD=false

# Monitoring (Optional)
GRAFANA_PASSWORD=CHANGE_THIS_STRONG_GRAFANA_PASSWORD
PROMETHEUS_RETENTION=30d

# ============================================
# Feature Flags
# ============================================
ENABLE_SWAGGER_DOCS=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_METRICS_ENDPOINT=true
ENABLE_HEALTH_ENDPOINT=true

# ============================================
# Backup Configuration
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/app/backups

# ============================================
# Performance Tuning
# ============================================
MAX_WORKERS=4
MEMORY_LIMIT=1gb
CPU_LIMIT=1.0
REQUEST_TIMEOUT=30000
DATABASE_POOL_SIZE=10

# ============================================
# Compliance & Audit
# ============================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=detailed
COMPLIANCE_MODE=strict
DATA_RETENTION_DAYS=2555

# ============================================
# Third-party Integrations
# ============================================
# Add your production API keys and configurations here
# STRIPE_PUBLISHABLE_KEY=pk_live_...
# STRIPE_SECRET_KEY=sk_live_...
# TWILIO_ACCOUNT_SID=AC...
# TWILIO_AUTH_TOKEN=...
# SENDGRID_API_KEY=SG...

# ============================================
# Emergency Contacts
# ============================================
# ALERT_EMAIL=alerts@vaelixbank.com
# ALERT_SLACK_WEBHOOK=https://hooks.slack.com/...
# ALERT_DISCORD_WEBHOOK=https://discord.com/api/webhooks/...

# ============================================
# WARNING: Security Checklist
# ============================================
# ✅ Change all default passwords
# ✅ Use strong, unique encryption keys
# ✅ Enable SSL/TLS in production
# ✅ Configure proper firewall rules
# ✅ Set up monitoring and alerting
# ✅ Enable audit logging
# ✅ Configure backup and recovery
# ✅ Test disaster recovery procedures
# ============================================